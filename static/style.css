@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0a0a0f;--bg2:#111118;--surface:rgba(17,17,30,0.85);
  --glass:rgba(255,255,255,0.04);--border:rgba(255,255,255,0.07);
  --accent:#7c5cfc;--accent2:#a78bfa;--accent-glow:rgba(124,92,252,0.25);
  --green:#22c55e;--red:#ef4444;--amber:#f59e0b;
  --text:#f1f5f9;--muted:#94a3b8;--dim:#475569;
  --r:14px;--rs:10px;
}
html{font-size:14px;scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* ===== LANDING PAGE ===== */
.landing{min-height:100vh;position:relative;overflow:hidden}
.landing-bg{position:fixed;inset:0;z-index:0;
  background:radial-gradient(ellipse 80% 60% at 50% 20%,rgba(124,92,252,0.12) 0%,transparent 60%),
  radial-gradient(ellipse 50% 40% at 80% 80%,rgba(139,92,246,0.08) 0%,transparent 50%),
  radial-gradient(ellipse 40% 30% at 10% 60%,rgba(59,130,246,0.06) 0%,transparent 50%)}

/* Floating particles */
.particles{position:fixed;inset:0;z-index:0;overflow:hidden;pointer-events:none}
.particle{position:absolute;width:3px;height:3px;background:var(--accent);border-radius:50%;opacity:0;
  animation:float-up 8s linear infinite}
@keyframes float-up{0%{opacity:0;transform:translateY(100vh) scale(0)}10%{opacity:0.6}90%{opacity:0.3}100%{opacity:0;transform:translateY(-10vh) scale(1)}}

.nav{position:fixed;top:0;left:0;right:0;z-index:50;padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;
  backdrop-filter:blur(20px);background:rgba(10,10,15,0.7);border-bottom:1px solid var(--border);transition:all 0.3s}
.nav-logo{display:flex;align-items:center;gap:0.6rem;font-weight:800;font-size:1.1rem}
.nav-logo .icon{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#a855f7);
  display:flex;align-items:center;justify-content:center;font-size:1rem;box-shadow:0 0 20px var(--accent-glow)}
.nav-cta{padding:0.5rem 1.2rem;border:none;border-radius:var(--rs);background:linear-gradient(135deg,var(--accent),#a855f7);
  color:#fff;font-weight:700;font-size:0.82rem;cursor:pointer;transition:all 0.25s;text-decoration:none}
.nav-cta:hover{box-shadow:0 0 24px var(--accent-glow);transform:translateY(-1px)}

.hero{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:6rem 1.5rem 4rem}
.hero-badge{display:inline-flex;align-items:center;gap:0.4rem;padding:0.35rem 1rem;border-radius:20px;
  background:rgba(124,92,252,0.1);border:1px solid rgba(124,92,252,0.2);font-size:0.72rem;font-weight:600;color:var(--accent2);margin-bottom:1.5rem;
  animation:fadeInUp 0.8s ease}
.hero h1{font-size:clamp(2.2rem,5vw,4rem);font-weight:900;letter-spacing:-0.03em;line-height:1.15;margin-bottom:1rem;
  background:linear-gradient(135deg,#fff 30%,var(--accent2) 70%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;
  animation:fadeInUp 0.8s ease 0.1s both}
.hero p{font-size:clamp(0.9rem,2vw,1.15rem);color:var(--muted);max-width:560px;line-height:1.7;margin-bottom:2.5rem;animation:fadeInUp 0.8s ease 0.2s both}
.hero-actions{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;animation:fadeInUp 0.8s ease 0.3s both}
.btn-primary{padding:0.75rem 2rem;border:none;border-radius:var(--r);background:linear-gradient(135deg,var(--accent),#a855f7);
  color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:all 0.3s;box-shadow:0 4px 24px var(--accent-glow)}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 40px var(--accent-glow)}
.btn-secondary{padding:0.75rem 2rem;border:1px solid var(--border);border-radius:var(--r);background:var(--glass);
  color:var(--text);font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s;backdrop-filter:blur(10px)}
.btn-secondary:hover{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.15)}

.features{position:relative;z-index:1;padding:5rem 2rem;max-width:1100px;margin:0 auto}
.features h2{text-align:center;font-size:1.8rem;font-weight:800;margin-bottom:0.6rem}
.features .sub{text-align:center;color:var(--muted);font-size:0.9rem;margin-bottom:3rem}
.feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}
.feature-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:1.8rem;
  backdrop-filter:blur(20px);transition:all 0.35s;position:relative;overflow:hidden}
.feature-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,var(--accent),transparent);opacity:0;transition:opacity 0.35s}
.feature-card:hover{transform:translateY(-4px);border-color:rgba(124,92,252,0.2);box-shadow:0 12px 40px rgba(0,0,0,0.4)}
.feature-card:hover::before{opacity:1}
.feature-card .fi{font-size:2rem;margin-bottom:1rem;display:block}
.feature-card h3{font-size:1.05rem;font-weight:700;margin-bottom:0.5rem}
.feature-card p{font-size:0.82rem;color:var(--muted);line-height:1.6}

.stats{position:relative;z-index:1;padding:3rem 2rem;max-width:900px;margin:0 auto}
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;text-align:center}
.stat-item .num{font-size:2rem;font-weight:900;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-item .label{font-size:0.78rem;color:var(--muted);margin-top:0.3rem}

.landing-footer{position:relative;z-index:1;text-align:center;padding:3rem 2rem;border-top:1px solid var(--border);
  font-size:0.75rem;color:var(--dim)}

@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ===== AUTH SCREEN ===== */
.auth-overlay{position:fixed;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;
  background:var(--bg);display:none}
.auth-overlay.show{display:flex}
.auth-overlay .landing-bg{position:absolute}
.auth-overlay .particles{position:absolute}
.auth-card{position:relative;z-index:1;width:400px;max-width:92vw;background:var(--surface);border:1px solid var(--border);
  border-radius:20px;padding:2.2rem 2rem;backdrop-filter:blur(30px);box-shadow:0 20px 60px rgba(0,0,0,0.5);
  animation:fadeInUp 0.5s ease}
.auth-logo{text-align:center;margin-bottom:1.5rem}
.auth-logo .icon{width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,var(--accent),#a855f7);
  display:inline-flex;align-items:center;justify-content:center;font-size:1.6rem;box-shadow:0 0 30px var(--accent-glow);margin-bottom:0.6rem}
.auth-logo h2{font-size:1.35rem;font-weight:800;letter-spacing:-0.03em}
.auth-logo p{font-size:0.78rem;color:var(--muted);margin-top:2px}
.auth-tabs{display:flex;margin-bottom:1.4rem;background:rgba(255,255,255,0.04);border-radius:var(--rs);overflow:hidden}
.auth-tab{flex:1;padding:0.55rem;text-align:center;font-size:0.78rem;font-weight:600;background:none;border:none;
  color:var(--dim);cursor:pointer;transition:all 0.25s}
.auth-tab.active{background:var(--accent);color:#fff}
.auth-field{margin-bottom:0.85rem}
.auth-field label{display:block;font-size:0.7rem;font-weight:600;color:var(--muted);margin-bottom:4px;text-transform:uppercase;letter-spacing:0.04em}
.auth-field input{width:100%;background:rgba(255,255,255,0.05);border:1px solid var(--border);border-radius:var(--rs);
  padding:0.65rem 0.75rem;color:var(--text);font-size:0.85rem;outline:none;transition:border-color 0.2s;font-family:inherit}
.auth-field input:focus{border-color:var(--accent)}
.auth-submit{width:100%;padding:0.7rem;border:none;border-radius:var(--rs);background:linear-gradient(135deg,var(--accent),#a855f7);
  color:#fff;font-size:0.88rem;font-weight:700;margin-top:0.5rem;cursor:pointer;transition:all 0.25s}
.auth-submit:hover{box-shadow:0 0 24px var(--accent-glow);transform:translateY(-1px)}
.auth-error{font-size:0.72rem;color:var(--red);text-align:center;margin-top:0.6rem;min-height:1rem}
.auth-back{display:block;text-align:center;margin-top:1rem;font-size:0.75rem;color:var(--dim);cursor:pointer;border:none;background:none;width:100%}
.auth-back:hover{color:var(--accent2)}

/* ===== MAIN APP ===== */
.main-app{display:flex;height:100vh;position:relative;z-index:1;display:none}
.main-app.show{display:flex}
.main-app::before{content:'';position:fixed;inset:0;
  background:radial-gradient(ellipse 70% 50% at 15% 10%,rgba(124,92,252,0.08) 0%,transparent 60%),
  radial-gradient(ellipse 50% 40% at 85% 85%,rgba(139,92,246,0.05) 0%,transparent 55%);z-index:0;pointer-events:none}

/* Sidebar */
.sidebar{width:280px;flex-shrink:0;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;
  backdrop-filter:blur(16px);transition:transform 0.3s,opacity 0.3s;z-index:10;position:relative}
.sidebar.collapsed{transform:translateX(-100%);position:absolute;top:0;bottom:0;opacity:0;pointer-events:none}
.sb-header{padding:1.1rem 1rem 0.8rem;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:0.6rem}
.sb-avatar{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#a855f7);display:flex;
  align-items:center;justify-content:center;font-size:0.9rem;font-weight:700;color:#fff;flex-shrink:0}
.sb-user{flex:1;min-width:0}
.sb-user .name{font-size:0.82rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sb-user .email{font-size:0.62rem;color:var(--dim);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sb-section{padding:0.7rem 0.8rem 0.3rem}
.sb-label{font-size:0.62rem;font-weight:700;color:var(--dim);text-transform:uppercase;letter-spacing:0.06em;margin-bottom:0.4rem;
  display:flex;align-items:center;justify-content:space-between}
.sb-label button{background:none;border:none;color:var(--accent);font-size:0.9rem;padding:0;line-height:1;cursor:pointer}
.sb-list{list-style:none;display:flex;flex-direction:column;gap:2px;max-height:220px;overflow-y:auto}
.sb-list::-webkit-scrollbar{width:3px}
.sb-list::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:3px}
.sb-item{padding:0.45rem 0.6rem;border-radius:8px;font-size:0.76rem;cursor:pointer;transition:all 0.15s;display:flex;
  align-items:center;gap:0.4rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sb-item:hover{background:rgba(255,255,255,0.05);color:var(--text)}
.sb-item.active{background:rgba(124,92,252,0.12);color:var(--accent2)}
.sb-item .del{margin-left:auto;opacity:0;font-size:0.7rem;color:var(--red);flex-shrink:0;background:none;border:none;padding:2px 4px;cursor:pointer}
.sb-item:hover .del{opacity:0.7}
.sb-item .del:hover{opacity:1}
.sb-pdf-item{display:flex;align-items:center;gap:0.4rem}
.sb-pdf-item .pages{font-size:0.6rem;color:var(--dim);flex-shrink:0}
.sb-fill{flex:1}
.sb-footer{padding:0.8rem 1rem;border-top:1px solid var(--border);margin-top:auto}
.sb-footer button{width:100%;padding:0.5rem;border:1px solid var(--border);border-radius:var(--rs);background:rgba(255,255,255,0.03);
  color:var(--muted);font-size:0.76rem;font-weight:600;transition:all 0.15s;cursor:pointer}
.sb-footer button:hover{background:rgba(239,68,68,0.1);color:var(--red);border-color:rgba(239,68,68,0.2)}

/* Chat Panel */
.chat-panel{flex:1;display:flex;flex-direction:column;min-width:0;position:relative;z-index:1}
.cp-header{padding:0.85rem 1.1rem;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:0.6rem;
  flex-shrink:0;background:rgba(0,0,0,0.15);backdrop-filter:blur(10px)}
.cp-toggle{background:none;border:none;color:var(--muted);font-size:1.1rem;padding:4px;display:none;cursor:pointer}
.cp-title{font-size:0.92rem;font-weight:700;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cp-actions{display:flex;gap:0.35rem}
.cp-btn{width:34px;height:34px;border-radius:var(--rs);border:1px solid var(--border);background:rgba(255,255,255,0.03);
  color:var(--muted);display:flex;align-items:center;justify-content:center;font-size:0.92rem;transition:all 0.15s;
  position:relative;cursor:pointer}
.cp-btn:hover{background:rgba(255,255,255,0.07);color:var(--text)}
.cp-btn.on{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 0 12px var(--accent-glow)}
.cp-btn .tip{position:absolute;top:-28px;left:50%;transform:translateX(-50%);background:var(--bg2);color:var(--muted);
  font-size:0.58rem;padding:2px 7px;border-radius:5px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity 0.15s}
.cp-btn:hover .tip{opacity:1}

/* Upload Bar */
.upload-bar{padding:0.7rem 1.1rem;border-bottom:1px solid var(--border);flex-shrink:0;transition:max-height 0.3s,padding 0.3s,opacity 0.25s;
  max-height:120px;overflow:hidden}
.upload-bar.hidden{max-height:0;padding:0 1.1rem;opacity:0;border:none;pointer-events:none}
.drop-zone{border:2px dashed rgba(255,255,255,0.08);border-radius:var(--rs);padding:0.7rem;text-align:center;cursor:pointer;
  transition:all 0.2s;font-size:0.75rem;color:var(--muted)}
.drop-zone:hover,.drop-zone.over{border-color:var(--accent);background:rgba(124,92,252,0.05)}
.drop-zone span{color:var(--accent);font-weight:600}
.drop-zone input{display:none}
.upload-status{font-size:0.68rem;color:var(--muted);margin-top:0.4rem;display:flex;align-items:center;gap:0.3rem;min-height:0.9rem}
.upload-status.ok{color:var(--green)}
.upload-status.err{color:var(--red)}
.spinner{width:12px;height:12px;border:2px solid rgba(255,255,255,0.08);border-top-color:var(--accent);border-radius:50%;
  animation:spin 0.5s linear infinite;display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}

/* Chat Area */
.chat-area{flex:1;overflow-y:auto;padding:1rem 1.2rem;display:flex;flex-direction:column;gap:0.75rem;scroll-behavior:smooth}
.chat-area::-webkit-scrollbar{width:4px}
.chat-area::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:4px}
.empty{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:0.5rem;opacity:0.45}
.empty .ei{font-size:2.5rem}
.empty p{font-size:0.76rem;color:var(--dim);max-width:280px;line-height:1.55}
.msg{display:flex;flex-direction:column;animation:msgIn 0.35s ease}
@keyframes msgIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.msg.user{align-items:flex-end}
.msg.ai{align-items:flex-start}
.bubble{max-width:82%;padding:0.7rem 0.9rem;border-radius:14px;font-size:0.84rem;line-height:1.7;word-break:break-word}
.msg.user .bubble{background:rgba(124,92,252,0.15);border:1px solid rgba(124,92,252,0.18);border-bottom-right-radius:4px}
.msg.ai .bubble{background:rgba(30,41,59,0.6);border:1px solid var(--border);border-bottom-left-radius:4px}
/* Markdown in AI bubbles */
.msg.ai .bubble p{margin-bottom:0.5rem}
.msg.ai .bubble p:last-child{margin-bottom:0}
.msg.ai .bubble strong{font-weight:700;color:#fff}
.msg.ai .bubble code{background:rgba(255,255,255,0.08);padding:1px 5px;border-radius:4px;font-size:0.78rem;font-family:'Courier New',monospace}
.msg.ai .bubble pre{background:rgba(0,0,0,0.3);border:1px solid var(--border);border-radius:8px;padding:0.7rem;margin:0.5rem 0;overflow-x:auto}
.msg.ai .bubble pre code{background:none;padding:0;font-size:0.78rem}
.msg.ai .bubble ul,.msg.ai .bubble ol{padding-left:1.2rem;margin:0.4rem 0}
.msg.ai .bubble li{margin-bottom:0.2rem}
.msg .meta{font-size:0.58rem;color:var(--dim);margin-top:2px;padding:0 4px;display:flex;align-items:center;gap:0.3rem}
.badge{font-size:0.55rem;padding:1px 6px;border-radius:4px;font-weight:700;text-transform:uppercase;letter-spacing:0.03em}
.badge.pdf{background:rgba(34,197,94,0.12);color:var(--green)}
.badge.general{background:rgba(245,158,11,0.12);color:var(--amber)}
.play-btn{cursor:pointer;color:var(--accent);font-weight:600}
.play-btn:hover{color:var(--accent2)}

/* Thinking dots */
.thinking{display:flex;align-items:flex-start;animation:msgIn 0.3s ease}
.thinking .bubble{background:rgba(30,41,59,0.6);border:1px solid var(--border);border-radius:14px;border-bottom-left-radius:4px;
  padding:0.65rem 0.9rem;display:flex;gap:4px}
.dot{width:6px;height:6px;border-radius:50%;background:var(--dim);animation:bounce 1.4s ease-in-out infinite}
.dot:nth-child(2){animation-delay:0.15s}
.dot:nth-child(3){animation-delay:0.3s}
@keyframes bounce{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-5px)}}

/* Input Bar */
.input-bar{padding:0.7rem 0.9rem;border-top:1px solid var(--border);display:flex;align-items:center;gap:0.45rem;flex-shrink:0;
  background:rgba(0,0,0,0.18)}
.input-bar input{flex:1;background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:var(--rs);
  padding:0.6rem 0.75rem;color:var(--text);font-size:0.84rem;outline:none;transition:border-color 0.2s;font-family:inherit}
.input-bar input::placeholder{color:var(--dim)}
.input-bar input:focus{border-color:rgba(124,92,252,0.35)}
.send{width:38px;height:38px;border-radius:var(--rs);background:var(--accent);border:none;color:#fff;font-size:1rem;
  display:flex;align-items:center;justify-content:center;transition:all 0.2s;flex-shrink:0;cursor:pointer}
.send:hover{background:var(--accent2);box-shadow:0 0 14px var(--accent-glow)}
.send:disabled{opacity:0.35}
.mic{width:38px;height:38px;border-radius:50%;border:none;background:rgba(255,255,255,0.05);color:var(--muted);font-size:1.05rem;
  display:flex;align-items:center;justify-content:center;transition:all 0.2s;flex-shrink:0;cursor:pointer}
.mic:hover{background:rgba(255,255,255,0.09);color:var(--text)}
.mic.rec{background:var(--red);color:#fff;box-shadow:0 0 16px rgba(239,68,68,0.3);animation:pulse 1.5s ease-in-out infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 16px rgba(239,68,68,0.3)}50%{box-shadow:0 0 26px rgba(239,68,68,0.3),0 0 44px rgba(239,68,68,0.1)}}
.wave-bar{display:none;align-items:center;height:24px;padding:0 4px}
.wave-bar.show{display:flex}
.wave-bar .bar{width:3px;border-radius:2px;background:var(--red);margin:0 1px;transition:height 0.08s}

/* Toast */
.toast{position:fixed;top:1.5rem;right:1.5rem;z-index:200;padding:0.7rem 1.2rem;border-radius:var(--rs);
  background:var(--surface);border:1px solid var(--border);backdrop-filter:blur(20px);font-size:0.8rem;font-weight:600;
  animation:slideIn 0.3s ease;box-shadow:0 8px 30px rgba(0,0,0,0.4);transition:opacity 0.3s}
.toast.success{border-color:rgba(34,197,94,0.3);color:var(--green)}
.toast.error{border-color:rgba(239,68,68,0.3);color:var(--red)}
@keyframes slideIn{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}

/* Responsive */
@media(max-width:720px){
  .sidebar{position:fixed;left:0;top:0;bottom:0;z-index:50;width:280px}
  .sidebar.collapsed{transform:translateX(-100%)}
  .cp-toggle{display:block}
  .hero h1{font-size:2rem}
  .feature-grid{grid-template-columns:1fr}
  .stats-grid{grid-template-columns:1fr;gap:1rem}
}
